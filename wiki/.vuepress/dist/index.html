<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>LegoFlow 2 | 指南</title>
    <meta name="description" content="legoflow 2">
    <link rel="icon" href="/wiki/logo.png">
    
    <link rel="preload" href="/wiki/assets/css/2.styles.e4567964.css" as="style"><link rel="preload" href="/wiki/assets/js/app.99bd4d87.js" as="script"><link rel="preload" href="/wiki/assets/js/1.293f2724.js" as="script"><link rel="prefetch" href="/wiki/assets/js/0.6564b1c9.js">
    <link rel="stylesheet" href="/wiki/assets/css/2.styles.e4567964.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/wiki/" class="home-link router-link-exact-active router-link-active"><!----><span class="site-name">
      LegoFlow 2
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><nav class="nav-links can-hide"><div class="nav-item"><a href="https://legoflow.com" target="_blank" rel="noopener noreferrer" class="nav-link">官网</a></div><div class="nav-item"><a href="https://legoflow.com/wiki" target="_blank" rel="noopener noreferrer" class="nav-link">指南</a></div><div class="nav-item"><a href="/wiki/config.html" class="nav-link">配置</a></div><a href="https://github.com/legoflow/legoflow" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://legoflow.com" target="_blank" rel="noopener noreferrer" class="nav-link">官网</a></div><div class="nav-item"><a href="https://legoflow.com/wiki" target="_blank" rel="noopener noreferrer" class="nav-link">指南</a></div><div class="nav-item"><a href="/wiki/config.html" class="nav-link">配置</a></div><a href="https://github.com/legoflow/legoflow" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav><ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>指南</span><!----></p><ul class="sidebar-group-items"><li><a href="/wiki/#介绍" class="sidebar-link">介绍</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/wiki/#优点" class="sidebar-link">优点</a></li><li class="sidebar-sub-header"><a href="/wiki/#工作流组成" class="sidebar-link">工作流组成</a></li></ul></li><li><a href="/wiki/#如何使用" class="sidebar-link">如何使用</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/wiki/#下载" class="sidebar-link">下载</a></li><li class="sidebar-sub-header"><a href="/wiki/#安装" class="sidebar-link">安装</a></li></ul></li><li><a href="/wiki/#界面" class="sidebar-link">界面</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/wiki/#项目列表界面" class="sidebar-link">项目列表界面</a></li><li class="sidebar-sub-header"><a href="/wiki/#新建项目界面" class="sidebar-link">新建项目界面</a></li><li class="sidebar-sub-header"><a href="/wiki/#日志界面" class="sidebar-link">日志界面</a></li><li class="sidebar-sub-header"><a href="/wiki/#全局设置界面" class="sidebar-link">全局设置界面</a></li></ul></li><li><a href="/wiki/#html-模块" class="sidebar-link">HTML 模块</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/wiki/#内联样式脚本" class="sidebar-link">内联样式脚本</a></li><li class="sidebar-sub-header"><a href="/wiki/#合并资源" class="sidebar-link">合并资源</a></li></ul></li><li><a href="/wiki/#javascript-模块" class="sidebar-link">JavaScript 模块</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/wiki/#入口文件" class="sidebar-link">入口文件</a></li><li class="sidebar-sub-header"><a href="/wiki/#环境变量" class="sidebar-link">环境变量</a></li><li class="sidebar-sub-header"><a href="/wiki/#引入-scss-文件" class="sidebar-link">引入 scss 文件</a></li><li class="sidebar-sub-header"><a href="/wiki/#引入-tpl-文件" class="sidebar-link">引入 tpl 文件</a></li></ul></li><li><a href="/wiki/#图片模块" class="sidebar-link">图片模块</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/wiki/#img-scss" class="sidebar-link">_img.scss</a></li><li class="sidebar-sub-header"><a href="/wiki/#base64" class="sidebar-link">base64</a></li><li class="sidebar-sub-header"><a href="/wiki/#雪碧图" class="sidebar-link">雪碧图</a></li></ul></li><li><a href="/wiki/#ejs-模块" class="sidebar-link">EJS 模块</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/wiki/#静态资源文件夹" class="sidebar-link">静态资源文件夹</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/wiki/#调试小工具" class="sidebar-link">调试小工具</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/wiki/#自定义项目类型" class="sidebar-link">自定义项目类型</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/wiki/#shell-脚本机制" class="sidebar-link">Shell 脚本机制</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/wiki/#使用方法" class="sidebar-link">使用方法</a></li><li class="sidebar-sub-header"><a href="/wiki/#nodebin" class="sidebar-link">NodeBin</a></li></ul></li><li><a href="/wiki/#联系反馈" class="sidebar-link">联系反馈</a><ul class="sidebar-sub-headers"></ul></li></ul></div></li></ul></div><div class="page"><div class="content"><h1 id="指南"><a href="#指南" aria-hidden="true" class="header-anchor">#</a> 指南</h1><h2 id="介绍"><a href="#介绍" aria-hidden="true" class="header-anchor">#</a> 介绍</h2><p>LegoFlow 2 是一款基于 <strong>Webpack 4.x</strong>、<strong>Gulp 4.x</strong>、<strong>Babel 7</strong> 作为核心的 Web 前端工作流客户端应用。</p><p>以 <a href="https://electronjs.org/" target="_blank" rel="noopener noreferrer">Electron</a> 为基础构建框架，兼容主流的 macOS 以及 Windows 64 系统。</p><h3 id="优点"><a href="#优点" aria-hidden="true" class="header-anchor">#</a> 优点</h3><p>把工作流从命令行的形式，封装成客户端应用，会带来以下方面的优点：</p><ol><li><strong>无需再配置复杂的系统环境，环境变量等</strong></li><li><strong>无需再安装复杂的 Node.js 环境</strong></li><li><strong>无需在每个项目下安装体积大、版本混乱的 node_moduels</strong></li></ol><p>通过依赖客户端内置固定版本的 Node.js 环境 以及 node_modules 模块，因而隔离外部环境，不用再安装配置各种各样的系统环境以及依赖。</p><p>只需简单的下载、解压，即可开始愉快地编程。</p><h3 id="工作流组成"><a href="#工作流组成" aria-hidden="true" class="header-anchor">#</a> 工作流组成</h3><p>工作流部分主要由 Webpack + Gulp 的形式构成。</p><p>Webpack 仅负责对 JavaScript 部分资源进行处理，其中主要包括 ES.Next 语法编译，模块处理等等。</p><p>而 Gulp 则负责剩余其他部门资源的处理，例如 HTML、Sass、EJS、图片处理 等等。</p><p>同时使用两个构建工具是为了让各自的优点得到最大的发挥。</p><p>Webpack 专门处理 JavaScript 模块化构建，而 Gulp 补充 Webpack 一些功能较为薄弱的环节，例如 雪碧图合并。</p><p>对于前端工作流更加详细的探索，可以前往 <a href="https://zhuanlan.zhihu.com/p/27355765" target="_blank" rel="noopener noreferrer">这里</a> 了解。</p><h2 id="如何使用"><a href="#如何使用" aria-hidden="true" class="header-anchor">#</a> 如何使用</h2><p>我们提供了 macOS、Windows 64 两个主流平台的客户端应用，若需要其他平台的客户端可到 <a href="https://github.com/legoflow/legoflow" target="_blank" rel="noopener noreferrer">Github</a> 拉取代码构建打包。</p><h3 id="下载"><a href="#下载" aria-hidden="true" class="header-anchor">#</a> 下载</h3><ul><li>百度云 <a href="https://pan.baidu.com/s/1PfUT9GwOxovp1E3Kj5WP8g#list/path=%2F" target="_blank" rel="noopener noreferrer">下载</a></li><li>腾讯微云 <a href="https://share.weiyun.com/5kP4ElS" target="_blank" rel="noopener noreferrer">下载</a></li></ul><p>若出现下载失败的情况，请联系我们。</p><h3 id="安装"><a href="#安装" aria-hidden="true" class="header-anchor">#</a> 安装</h3><p>Windows 64 系统版本的客户端，仅需要解压下载的压缩包，双击运行 <code>legoflow 2.exe</code>。</p><p>macOS 系统的客户端，下载完成后打开 dmg 文件。</p><p>若出现 “不明开发者...” 的提示无法打开的话，请打开 <code>系统设置&gt;安全性与隐私&gt;通用</code> 允许打开应用。</p><p>成功打开 dmg 后，拖动 app 到 <code>应用程序</code> 文件夹后，双击打开即可运行。</p><h2 id="界面"><a href="#界面" aria-hidden="true" class="header-anchor">#</a> 界面</h2><p>因系统的差异性，macOS 与 Windows 64 两个系统版本的客户端应用界面上会有所差别，但功能上相差无几。</p><p>这里主要以 macOS 系统的客户端应用界面作为例子，进行说明。</p><h3 id="项目列表界面"><a href="#项目列表界面" aria-hidden="true" class="header-anchor">#</a> 项目列表界面</h3><p>默认打开界面为 项目列表界面，项目列表为空时。</p><div align="center"><img src="/wiki/assets/img/1.c5fad6e8.png" width="300px"></div><p>项目列表存在项目，若同时存在多个项目，可通过拖拉改变项目列表的顺序。</p><div align="center"><img src="/wiki/assets/img/4.a5f48cba.png" width="300px"></div><p><code>双击具体项目</code> 可让 <strong>资源管理器</strong> 打开项目路径。</p><p>macOS 系统更加可以通过 <code>CMD + 点击具体项目</code> 让 <strong>常用编辑器</strong> 打开项目。</p><p>点击 <code>开发</code> 按钮，可让当前高亮项目进入 <strong>开发工作流</strong> 队列，最多可同时启动 5 个项目。</p><p>开发工作流启动成功后，会自动弹起工作流信息面板。该工作流信息面板，主要显示开发或构建工作流最新一条的日志信息，方便开发者无需切换到日志面板，即可了解到项目工作流的状态。</p><p>同理，点击 <code>构建</code> 按钮，可让当前高亮项目进入 <strong>构建工作流</strong> 队列。但与开发工作流不一样的是，同时构建多个项目时，并没有限定数量。</p><h3 id="新建项目界面"><a href="#新建项目界面" aria-hidden="true" class="header-anchor">#</a> 新建项目界面</h3><p>点击菜单上的 <code>新建</code> 或 按下键盘的 <code>左箭头</code> 键，即可切换到新建项目界面。</p><div align="center"><img src="/wiki/assets/img/2.8fa24627.png" width="300px"></div><p>新建项目时，需要填入 <code>项目名称</code>，该名称会作为新建文件夹的名称。</p><p>选择 <code>项目类型</code>，根据不同类型会初始化不同的脚手架项目结构。</p><p>选择 <code>项目路径</code>，作为新建项目的物理存放路径。</p><p>可修改 <code>项目版本</code>，默认值为 0.0.1。</p><p>若选上 <code>ES.Next</code>，即可启动对 JavaScript 模块的 ES.Next 语法编译。</p><p>若选上 <code>路径作为源文件夹</code>，会以当前选择的路径作为文件夹创建项目，不会新建文件夹作为项目。</p><h3 id="日志界面"><a href="#日志界面" aria-hidden="true" class="header-anchor">#</a> 日志界面</h3><p>点击菜单上的 <code>日志</code> 或 按下键盘的 <code>右箭头</code> 键，可切换到日志界面。</p><p>该界面主要用于记录展示项目开发以及构建工作流的相关日志信息，包括 log、error、success 等。</p><div align="center"><img src="/wiki/assets/img/5.1ad53113.png" width="300px"></div><h3 id="全局设置界面"><a href="#全局设置界面" aria-hidden="true" class="header-anchor">#</a> 全局设置界面</h3><p>macOS 系统点击菜单 <code>LegoFlow 2&gt;首选项</code> 或 快捷键 <code>CMD+,</code> 进入全局设置界面。</p><p>Windows 64 系统点击菜单 <code>应用&gt;全局设置</code> 进入全局设置界面。</p><div align="center"><img src="/wiki/assets/img/6.fa8a749b.png" width="300px"></div><p>在该界面，可以对客户端应用全局参数进行配置。可设置的参数有：</p><ul><li>用户名：用于新建项目时，作为 <code>author</code> 以及构建文件 banner 备注</li><li>端口号：开发工作流启动的默认端口号，若被占用则递增</li><li>编辑器：设置常用编辑器，可在项目列表界面使其直接打开项目</li><li>工作流自动打开 Chrome：开发或构建工作流成功后是否自动打开 Chrome 浏览器</li><li>实验室：选中后会开启一些实验性的功能，并会接受 Preview 版本的提示更新</li><li>Project：自定义项目类型，<a href="/wiki/#自定义项目类型">了解详细</a></li><li>NodeBin：Shell 模块的扩展功能，<a href="/wiki/#nodebin">了解详细</a></li></ul><h2 id="html-模块"><a href="#html-模块" aria-hidden="true" class="header-anchor">#</a> HTML 模块</h2><h3 id="内联样式脚本"><a href="#内联样式脚本" aria-hidden="true" class="header-anchor">#</a> 内联样式脚本</h3><p>在构建阶段，通过 html 内联样式或脚本文件，减少请求数，减少 TTFB，优化加载性能</p><p>在 html 外链上加上 inline 属性即可。如:</p><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>css/index.css<span class="token punctuation">&quot;</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">inline</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>js/index.js<span class="token punctuation">&quot;</span></span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>utf-8<span class="token punctuation">&quot;</span></span> <span class="token attr-name">inline</span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><h3 id="合并资源"><a href="#合并资源" aria-hidden="true" class="header-anchor">#</a> 合并资源</h3><p>在构建阶段，通过 HTML 固定的注释语法，把资源打包合并，减少请求数，减少 TTFB，优化加载性能。如：</p><pre class="language-html"><code><span class="token comment">&lt;!-- @bundle ./js/base.min.js --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>./assets/axios.min.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>./assets/vue.min.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>./assets/vuex.min.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>./assets/vue-router.min.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- @endbundle --&gt;</span>
</code></pre><h2 id="javascript-模块"><a href="#javascript-模块" aria-hidden="true" class="header-anchor">#</a> JavaScript 模块</h2><h3 id="入口文件"><a href="#入口文件" aria-hidden="true" class="header-anchor">#</a> 入口文件</h3><p>JavaScript 模块由 Webpack 管理，工作流会自动获取 <code>项目目录/src/js/</code> 路径下 第一层 JS 文件，但不包括子文件夹下 JS 文件 或 带下划线前缀的 JS 文件，作为 <a href="https://webpack.js.org/concepts/#entry" target="_blank" rel="noopener noreferrer">Webpack entry</a> 配置，进行依赖链的热刷新。</p><p>所以值得注意的是：</p><ul><li>项目目录 <code>/src/js/</code> 第一层（ 不包括子文件夹 ）路径下若新增 JS 文件，需要 <strong>重启工作流</strong>，使新增文件成为依赖入口，构建新的依赖链，JS 模块功能才生效</li><li>项目目录 <code>/src/js/*.js</code> 为依赖入口文件 ( 带下划线前缀的 JS 文件除外 )，<strong>不应相互依赖</strong></li></ul><h3 id="环境变量"><a href="#环境变量" aria-hidden="true" class="header-anchor">#</a> 环境变量</h3><p>自动注入 环境变量，开发者可根据 环境变量 进行逻辑处理</p><pre class="language-js"><code><span class="token comment">// 开发环境 判断</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span> process<span class="token punctuation">.</span>env <span class="token operator">===</span> <span class="token string">'dev'</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">'这个是开发环境'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 生产环境 判断</span>
<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span> process<span class="token punctuation">.</span>env <span class="token operator">===</span> <span class="token string">'build'</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span> <span class="token string">'这个是生产环境'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h3 id="引入-scss-文件"><a href="#引入-scss-文件" aria-hidden="true" class="header-anchor">#</a> 引入 scss 文件</h3><p>支持引入 sass 文件，并通过 autoprefixer 进行自动补全，返回样式字符串。如:</p><pre class="language-css"><code>// t.scss
<span class="token atrule"><span class="token rule">@import</span> <span class="token string">&quot;./t1.scss&quot;</span><span class="token punctuation">;</span></span>
<span class="token atrule"><span class="token rule">@import</span> <span class="token url">url(./_t2.scss)</span><span class="token punctuation">;</span></span>

<span class="token selector">#test</span> <span class="token punctuation">{</span>
    <span class="token property">transition</span><span class="token punctuation">:</span> all .2s ease<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><pre class="language-js"><code><span class="token comment">// t.js</span>
<span class="token keyword">import</span> css <span class="token keyword">from</span> <span class="token string">'./t.scss'</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> css <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// #test{transition: all .2s ease;-webkit-transition: all .2s ease}</span>
</code></pre><h3 id="引入-tpl-文件"><a href="#引入-tpl-文件" aria-hidden="true" class="header-anchor">#</a> 引入 tpl 文件</h3><p>支持 <a href="https://github.com/aui/artTemplate" target="_blank" rel="noopener noreferrer">art-template</a> 语法 tpl 文件，转成压缩的 html 字符串，常用于接口获取数据后动态插入 DOM 结构。如:</p><pre class="language-html"><code>// t.tpl
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>test<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{ name }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><pre class="language-js"><code><span class="token comment">// t.js</span>
<span class="token keyword">let</span> thtml <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./t.tpl'</span><span class="token punctuation">)</span><span class="token punctuation">(</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">'test'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> thtml <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &lt;div id=&quot;test&quot;&gt;test&lt;/div&gt;</span>
</code></pre><p>使用 filter</p><pre class="language-html"><code>// t.tpl
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>test<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{ name | test }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><pre class="language-js"><code><span class="token comment">// t.js</span>
<span class="token keyword">let</span> runtime <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'art-template/lib/runtime'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

runtime<span class="token punctuation">.</span><span class="token function-variable function">test</span> <span class="token operator">=</span> <span class="token punctuation">(</span> val <span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token template-string"><span class="token string">`test filter: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> val <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> thtml <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./t.tpl'</span><span class="token punctuation">)</span><span class="token punctuation">(</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">'test'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>thtml<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &lt;div id=&quot;test&quot;&gt;test helper: t&lt;/div&gt;</span>
</code></pre><h2 id="图片模块"><a href="#图片模块" aria-hidden="true" class="header-anchor">#</a> 图片模块</h2><h3 id="img-scss"><a href="#img-scss" aria-hidden="true" class="header-anchor">#</a> _img.scss</h3><p>放置在 项目目录 <code>/src/img/</code> 下的图片，开发/构建工作流都会获取其信息，包括宽度/高度以及 <code>background-image</code> 路径生成 sass 样式，保存在 项目目录 <code>/src/sass/_img.scss</code> 文件。 如:</p><pre class="language-html"><code>图片
/src/img/avatar.png
/src/img/slice/loading.png
</code></pre><pre class="language-css"><code><span class="token selector">/src/sass/_img.scss

%avatar.png</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 80px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 80px<span class="token punctuation">;</span>
    <span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token url">url('../img/avatar.png')</span><span class="token punctuation">;</span>
    <span class="token property">background-size</span><span class="token punctuation">:</span> contain<span class="token punctuation">;</span>
    <span class="token property">background-repeat</span><span class="token punctuation">:</span> no-repeat<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">%slice-loading.png</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 80px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 32px<span class="token punctuation">;</span>
    <span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token url">url('../img/slice/loading.png')</span><span class="token punctuation">;</span>
    <span class="token property">background-size</span><span class="token punctuation">:</span> contain<span class="token punctuation">;</span>
    <span class="token property">background-repeat</span><span class="token punctuation">:</span> no-repeat<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>默认脚手架 基础 sass 文件已引入 _img.scss，直接使用即可:</p><pre class="language-css"><code><span class="token selector">#test-1</span> <span class="token punctuation">{</span>
    @extend %avatar.png
<span class="token punctuation">}</span>

<span class="token selector">#test-2</span> <span class="token punctuation">{</span>
    @extend %slice-loading.png
<span class="token punctuation">}</span>
</code></pre><p><strong>注意</strong>，若配置了 <code>REM: true</code></p><p>生成的图片信息长度单位为 rem。如:</p><pre class="language-html"><code>图片
/src/img/avatar.png
/src/img/slice/loading.png
</code></pre><pre class="language-css"><code><span class="token selector">/src/sass/_img.scss

%avatar.png</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 0.8rem<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 0.8rem<span class="token punctuation">;</span>
    <span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token url">url('../img/avatar.png')</span><span class="token punctuation">;</span>
    <span class="token property">background-size</span><span class="token punctuation">:</span> contain<span class="token punctuation">;</span>
    <span class="token property">background-repeat</span><span class="token punctuation">:</span> no-repeat<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">%slice-loading.png</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 0.8rem<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 0.32rem<span class="token punctuation">;</span>
    <span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token url">url('../img/slice/loading.png')</span><span class="token punctuation">;</span>
    <span class="token property">background-size</span><span class="token punctuation">:</span> contain<span class="token punctuation">;</span>
    <span class="token property">background-repeat</span><span class="token punctuation">:</span> no-repeat<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p><strong>注意</strong>，雪碧图文件夹的图片信息，其中 <code>background-size: contain;</code> 样式，只有在 开发工作流 上才会产生。</p><p>本来 片段名上带有路径还有后缀是为了保持资源引用的唯一性，但对于开发者需要引用该片段名的时候，就显得很臃肿，因此对 片段名 进行优化，如：</p><pre class="language-html"><code>图片
/src/img/base64/avatar.png
</code></pre><p>↓ 编译成</p><pre class="language-sass"><code><span class="token selector">/src/sass/_img.scss</span>

<span class="token selector">%avatar {</span>
<span class="token property-line">    <span class="token property">width</span><span class="token punctuation">:</span> 80px;</span>
<span class="token property-line">    <span class="token property">height</span><span class="token punctuation">:</span> 80px;</span>
<span class="token property-line">    <span class="token property">background-image</span><span class="token punctuation">:</span> </span><span class="token url">url('../img/base64/avatar.png')</span><span class="token selector">;</span>
<span class="token property-line">    <span class="token property">background-size</span><span class="token punctuation">:</span> contain;</span>
<span class="token property-line">    <span class="token property">background-repeat</span><span class="token punctuation">:</span> no-repeat;</span>
<span class="token selector">}</span>
<span class="token selector">%base64-avatar.png {</span>
<span class="token property-line">    <span class="token property">width</span><span class="token punctuation">:</span> 80px;</span>
<span class="token property-line">    <span class="token property">height</span><span class="token punctuation">:</span> 80px;</span>
<span class="token property-line">    <span class="token property">background-image</span><span class="token punctuation">:</span> </span><span class="token url">url('../img/base64/avatar.png')</span><span class="token selector">;</span>
<span class="token property-line">    <span class="token property">background-size</span><span class="token punctuation">:</span> contain;</span>
<span class="token property-line">    <span class="token property">background-repeat</span><span class="token punctuation">:</span> no-repeat;</span>
<span class="token selector">}</span>
</code></pre><p>也就是在原有的基础上，增加了一个只有文件名的 片段，开发者引用起来相对简单很多，但值得注意的是，如果重名的资源片段，会覆盖前一个，这时若想引入最为正确的片段，可以使用 <strong>全路径 + 文件名的片段</strong></p><h3 id="base64"><a href="#base64" aria-hidden="true" class="header-anchor">#</a> base64</h3><p>项目目录 <code>/src/img/base64</code> 下放置的图片，&lt;100k，在构建工作流中，会自动转换成 base64 格式内置替换到对应样式中</p><h3 id="雪碧图"><a href="#雪碧图" aria-hidden="true" class="header-anchor">#</a> 雪碧图</h3><p>项目目录 <code>/src/img/slice</code> 下放置的图片，在构建工作流中，合成雪碧图，并在样式文件中增加对应的 <code>background-position</code> 等信息</p><p><strong>若样式文件中没有引入该路径下的图片，不会进行合并雪碧图</strong></p><p>合成多张雪碧图，会以 <code>/src/img/slice</code> 路径下的目录为单位，生成多张雪碧图。如:</p><pre class="language-text"><code>图片
/src/img/slice/a.png
/src/img/slice/b.png
/src/img/slice/page-1/c.png
/src/img/slice/page-1/d.png
/src/img/slice/page-2/e.png
/src/img/slice/page-2/f.png

合成后

/dist/img/sprite.png
/dist/img/page-1.png
/dist/img/page-2.png
</code></pre><p>支持合成 2 倍 3 倍雪碧图。</p><p><strong>注意</strong>，若配置了 <code>REM: true</code>, 生成的样式长度单位为 rem，其中包括的样式属性为</p><ul><li>background-position</li><li>background-size</li></ul><h2 id="ejs-模块"><a href="#ejs-模块" aria-hidden="true" class="header-anchor">#</a> EJS 模块</h2><p>通过 EJS 动态语言，实现编译 HTML 文件迭代结构等，例如，文件项目结构 <code>/src/ejs/x.ejs</code> 自动编译到 <code>/src/x.html</code></p><p>默认项目类型并不自动创建 <strong>/src/ejs</strong> 文件夹。</p><p>新增注入环境变量，开发者可根据 环境变量 进行逻辑处理。</p><p>例子</p><pre class="language-html"><code><span class="token comment">&lt;!-- @if env='dev' --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>xxx.js<span class="token punctuation">&quot;</span></span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>utf-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>开发环境<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- @endif --&gt;</span>

<span class="token comment">&lt;!-- @if env='build' --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>生产环境<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- @endif --&gt;</span>
</code></pre><p>→ 开发环境 编译出的 HTML</p><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>xxx.js<span class="token punctuation">&quot;</span></span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>utf-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>开发环境<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
</code></pre><p>→ 生产环境 编译出的 HTML</p><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>生产环境<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
</code></pre><h2 id="静态资源文件夹"><a href="#静态资源文件夹" aria-hidden="true" class="header-anchor">#</a> 静态资源文件夹</h2><p>一些无需参与工作流的静态资源文件（例如: mp3 / mp4 / 第三方静态组件等）可放置在此文件夹下。</p><p>构建阶段，工作流会把 <code>src/assets</code> 静态资源文件夹搬迁到 构建后目录<code>dist</code>里面。</p><h2 id="调试小工具"><a href="#调试小工具" aria-hidden="true" class="header-anchor">#</a> 调试小工具</h2><p>开发工作流启动的 web 服务，URL 带上 dev 参数，则自动注入调试工具。功能主要包括:</p><ul><li>关闭：关闭小工具，刷新后重载</li><li>刷新：刷新页面</li><li>LOG：查看 log 打印日志</li></ul><div align="center"><img src="/wiki/assets/img/7.9e9a5238.png" width="700px"></div><p>开发工作流启动的 web 服务，URL 带上 stats 参数，则自动注入 stats.js 工具，<a href="https://github.com/mrdoob/stats.js" target="_blank" rel="noopener noreferrer">了解功能</a>。</p><h2 id="自定义项目类型"><a href="#自定义项目类型" aria-hidden="true" class="header-anchor">#</a> 自定义项目类型</h2><p>除了可以新建项目类型脚手架之外，还支持新建自定义项目类型。</p><p>首先，在 PC 本地建立一个文件夹，获取其绝对路径，在客户端全局配置中，设置到 <code>Project</code>，并保存。</p><p>在新建的文件夹里，可以放置自定义项目，<a href="https://github.com/legoflow/project/tree/master/__test__/P1" target="_blank" rel="noopener noreferrer">这里</a> 有一个示范项目，下载完成后，放置到新建的文件夹中即可。</p><p>放置完毕后，在 <code>新建</code> 界面中项目类型便会多了 <code>P1</code> 这个类型。</p><p>大致原理是，客户端会通过全局配置中 <code>Project</code> 路径，寻找其中的文件夹，作为自定义的项目类型，并进行注入。</p><p>一个标准的自定义项目类型可参考上述项目模板。</p><h2 id="shell-脚本机制"><a href="#shell-脚本机制" aria-hidden="true" class="header-anchor">#</a> Shell 脚本机制</h2><h3 id="使用方法"><a href="#使用方法" aria-hidden="true" class="header-anchor">#</a> 使用方法</h3><p>通过配置 shell 脚本，可扩展 构建工作流 完成后还需要做的事情。例如：</p><ul><li>我想 构建完成后打包出 zip 包</li><li>我想 构建完成后上传到公司的 发布平台</li><li>我想 构建完成后 加入一些其他的 工作流 来处理文件</li><li>我先 构建完成后 自动迁移到 xxx 目录</li><li>...</li></ul><p>可想而知，LegoFlow 建构工作流完成后可自动执行配置的脚本，做到很多自己自定义的事情。如：</p><pre class="language-js"><code><span class="token comment">// zip.js</span>
<span class="token string">'use strict'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> del <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'del'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> shell <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'shelljs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token punctuation">(</span> <span class="token punctuation">{</span> config<span class="token punctuation">:</span> <span class="token punctuation">{</span> projectPath <span class="token punctuation">}</span><span class="token punctuation">,</span> messager<span class="token punctuation">,</span> nodeBinExec <span class="token punctuation">}</span> <span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    messager<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token string">'删除原有 zip'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

    del<span class="token punctuation">.</span><span class="token function">sync</span><span class="token punctuation">(</span> <span class="token punctuation">[</span> <span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> projectPath <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/dist.zip`</span></span> <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> force<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

    messager<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token string">'打包中'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

    shell<span class="token punctuation">.</span><span class="token function">cd</span><span class="token punctuation">(</span> projectPath <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span> shell<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span> <span class="token string">'zip -r dist.zip dist'</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>code <span class="token operator">===</span> <span class="token number">0</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        messager<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token string">'打包完成'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

        messager<span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> <span class="token punctuation">{</span>
        messager<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span> <span class="token string">'打包错误'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><p>配置文件中注册脚本</p><pre class="language-yaml"><code><span class="token comment"># legoflow.yml</span>
<span class="token key atrule">workflow.build</span><span class="token punctuation">:</span>
    <span class="token key atrule">shell</span><span class="token punctuation">:</span> ./zip.js
</code></pre><p>值得注意的是，客户端会等待 Shell 回调结果信息( 成功或者失败 )，从而释放 线程资源。</p><p>所以脚本执行完成后，请通过 <code>messager.success( );</code> 回调 成功结果，通过 <code>messager.stop( '错误信息' );</code> 回调 错误结果。</p><h3 id="nodebin"><a href="#nodebin" aria-hidden="true" class="header-anchor">#</a> NodeBin</h3><p>当我们需要使用 Shell 脚本功能去执行外部 node 脚本的时候，因为应用内部的 node 环境与外部的相互独立性，这时就需要定义外部的 node bin 了。</p><p>在全局设置中，可设置外部 node bin 的路径，设置步骤如下：</p><ol><li>在电脑终端上执行 <strong><code>which node</code></strong>（ 可得到当前环境正在使用的 node bin 的路径 ）</li><li>复制该路径</li><li>粘贴到 <strong>全局设置&gt;node bin</strong> 输入框内</li><li>保存</li></ol><p>在 Shell 功能扩展的脚本中，即可使用 nodeBinExec，例如：</p><pre class="language-js"><code><span class="token string">'use strict'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token punctuation">(</span> <span class="token punctuation">{</span> config<span class="token punctuation">:</span> <span class="token punctuation">{</span> projectPath <span class="token punctuation">}</span><span class="token punctuation">,</span> messager<span class="token punctuation">,</span> nodeBinExec <span class="token punctuation">}</span> <span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> root <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span> projectPath<span class="token punctuation">,</span> <span class="token string">'../'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">nodeBinExec</span><span class="token punctuation">(</span> root<span class="token punctuation">,</span> <span class="token string">'./script/build.js'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span> code<span class="token punctuation">,</span> msg<span class="token punctuation">,</span> err <span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        code <span class="token operator">===</span> <span class="token number">0</span> <span class="token operator">?</span> messager<span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span> <span class="token punctuation">)</span> <span class="token punctuation">:</span> messager<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span> err <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><p>上述例子，Shell 脚本描述的是通过 nodeBinExec 函数，使用外部的 node bin 执行指定路径下的外部脚本文件。</p><p>通过该策略，能够通过 Shell 脚本功能去执行一些外部 node 环境的脚本，从而完成构建后的自动化操作。</p><h2 id="联系反馈"><a href="#联系反馈" aria-hidden="true" class="header-anchor">#</a> 联系反馈</h2><p>遇到问题或者有更棒的想法，欢迎大家提出 issues 或 PR.</p><p>交流 Q 群 457756220</p></div><!----><!----></div></div></div>
    <script src="/wiki/assets/js/1.293f2724.js" defer></script><script src="/wiki/assets/js/app.99bd4d87.js" defer></script>
  </body>
</html>
