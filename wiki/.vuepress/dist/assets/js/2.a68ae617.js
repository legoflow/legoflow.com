(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{50:function(t,s,a){t.exports=a.p+"assets/img/7.9e9a5238.png"},51:function(t,s,a){t.exports=a.p+"assets/img/6.fa8a749b.png"},52:function(t,s,a){t.exports=a.p+"assets/img/5.1ad53113.png"},53:function(t,s,a){t.exports=a.p+"assets/img/2.8fa24627.png"},54:function(t,s,a){t.exports=a.p+"assets/img/4.a5f48cba.png"},55:function(t,s,a){t.exports=a.p+"assets/img/1.c5fad6e8.png"},56:function(t,s,a){"use strict";a.r(s);var n=[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"指南"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#指南","aria-hidden":"true"}},[this._v("#")]),this._v(" 指南")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"介绍"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#介绍","aria-hidden":"true"}},[this._v("#")]),this._v(" 介绍")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("LegoFlow 2 是一款基于 "),s("strong",[this._v("Webpack 4.x")]),this._v("、"),s("strong",[this._v("Gulp 4.x")]),this._v("、"),s("strong",[this._v("Babel 7")]),this._v(" 作为核心的 Web 前端工作流客户端应用。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("以 "),s("a",{attrs:{href:"https://electronjs.org/",target:"_blank",rel:"noopener noreferrer"}},[this._v("Electron")]),this._v(" 为基础构建框架，兼容主流的 macOS 以及 Windows 64 系统。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"优点"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#优点","aria-hidden":"true"}},[this._v("#")]),this._v(" 优点")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",[s("li",[s("strong",[this._v("无需再配置复杂的系统环境，环境变量等")])]),s("li",[s("strong",[this._v("无需再安装复杂的 Node.js 环境")])]),s("li",[s("strong",[this._v("无需在每个项目下安装体积大、版本混乱的 node_moduels")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"工作流组成"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#工作流组成","aria-hidden":"true"}},[this._v("#")]),this._v(" 工作流组成")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("对于前端工作流更加详细的探索，可以前往 "),s("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/27355765",target:"_blank",rel:"noopener noreferrer"}},[this._v("这里")]),this._v(" 了解。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"如何使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#如何使用","aria-hidden":"true"}},[this._v("#")]),this._v(" 如何使用")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("我们提供了 macOS、Windows 64 两个主流平台的客户端应用，若需要其他平台的客户端可到 "),s("a",{attrs:{href:"https://github.com/legoflow/legoflow",target:"_blank",rel:"noopener noreferrer"}},[this._v("Github")]),this._v(" 拉取代码构建打包。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"下载"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#下载","aria-hidden":"true"}},[this._v("#")]),this._v(" 下载")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("百度云 "),s("a",{attrs:{href:"https://pan.baidu.com/s/1PfUT9GwOxovp1E3Kj5WP8g#list/path=%2F",target:"_blank",rel:"noopener noreferrer"}},[this._v("下载")])]),s("li",[this._v("腾讯微云 "),s("a",{attrs:{href:"https://share.weiyun.com/5kP4ElS",target:"_blank",rel:"noopener noreferrer"}},[this._v("下载")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装","aria-hidden":"true"}},[this._v("#")]),this._v(" 安装")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Windows 64 系统版本的客户端，仅需要解压下载的压缩包，双击运行 "),s("code",[this._v("legoflow 2.exe")]),this._v("。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("若出现 “不明开发者...” 的提示无法打开的话，请打开 "),s("code",[this._v("系统设置>安全性与隐私>通用")]),this._v(" 允许打开应用。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("成功打开 dmg 后，拖动 app 到 "),s("code",[this._v("应用程序")]),this._v(" 文件夹后，双击打开即可运行。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"界面"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#界面","aria-hidden":"true"}},[this._v("#")]),this._v(" 界面")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"项目列表界面"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#项目列表界面","aria-hidden":"true"}},[this._v("#")]),this._v(" 项目列表界面")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{attrs:{align:"center"}},[s("img",{attrs:{src:a(55),width:"300px"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{attrs:{align:"center"}},[s("img",{attrs:{src:a(54),width:"300px"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("双击具体项目")]),this._v(" 可让 "),s("strong",[this._v("资源管理器")]),this._v(" 打开项目路径。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("macOS 系统更加可以通过 "),s("code",[this._v("CMD + 点击具体项目")]),this._v(" 让 "),s("strong",[this._v("常用编辑器")]),this._v(" 打开项目。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("点击 "),s("code",[this._v("开发")]),this._v(" 按钮，可让当前高亮项目进入 "),s("strong",[this._v("开发工作流")]),this._v(" 队列，最多可同时启动 5 个项目。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("同理，点击 "),s("code",[this._v("构建")]),this._v(" 按钮，可让当前高亮项目进入 "),s("strong",[this._v("构建工作流")]),this._v(" 队列。但与开发工作流不一样的是，同时构建多个项目时，并没有限定数量。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"新建项目界面"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#新建项目界面","aria-hidden":"true"}},[this._v("#")]),this._v(" 新建项目界面")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("点击菜单上的 "),s("code",[this._v("新建")]),this._v(" 或 按下键盘的 "),s("code",[this._v("左箭头")]),this._v(" 键，即可切换到新建项目界面。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{attrs:{align:"center"}},[s("img",{attrs:{src:a(53),width:"300px"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("新建项目时，需要填入 "),s("code",[this._v("项目名称")]),this._v("，该名称会作为新建文件夹的名称。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("选择 "),s("code",[this._v("项目类型")]),this._v("，根据不同类型会初始化不同的脚手架项目结构。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("选择 "),s("code",[this._v("项目路径")]),this._v("，作为新建项目的物理存放路径。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("可修改 "),s("code",[this._v("项目版本")]),this._v("，默认值为 0.0.1。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("若选上 "),s("code",[this._v("ES.Next")]),this._v("，即可启动对 JavaScript 模块的 ES.Next 语法编译。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("若选上 "),s("code",[this._v("路径作为源文件夹")]),this._v("，会以当前选择的路径作为文件夹创建项目，不会新建文件夹作为项目。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"日志界面"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#日志界面","aria-hidden":"true"}},[this._v("#")]),this._v(" 日志界面")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("点击菜单上的 "),s("code",[this._v("日志")]),this._v(" 或 按下键盘的 "),s("code",[this._v("右箭头")]),this._v(" 键，可切换到日志界面。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{attrs:{align:"center"}},[s("img",{attrs:{src:a(52),width:"300px"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"全局设置界面"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#全局设置界面","aria-hidden":"true"}},[this._v("#")]),this._v(" 全局设置界面")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("macOS 系统点击菜单 "),s("code",[this._v("LegoFlow 2>首选项")]),this._v(" 或 快捷键 "),s("code",[this._v("CMD+,")]),this._v(" 进入全局设置界面。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Windows 64 系统点击菜单 "),s("code",[this._v("应用>全局设置")]),this._v(" 进入全局设置界面。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{attrs:{align:"center"}},[s("img",{attrs:{src:a(51),width:"300px"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",[this._v("用户名：用于新建项目时，作为 "),s("code",[this._v("author")]),this._v(" 以及构建文件 banner 备注")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"项目类型"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#项目类型","aria-hidden":"true"}},[this._v("#")]),this._v(" 项目类型")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"vue-js"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vue-js","aria-hidden":"true"}},[this._v("#")]),this._v(" Vue.js")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[t._v("由 "),a("a",{attrs:{href:"https://cn.vuejs.org/index.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Vue.js")]),t._v(" 框架全家桶，"),a("a",{attrs:{href:"https://router.vuejs.org/zh/",target:"_blank",rel:"noopener noreferrer"}},[t._v("vue-router")]),t._v(" + "),a("a",{attrs:{href:"https://vuex.vuejs.org/zh/",target:"_blank",rel:"noopener noreferrer"}},[t._v("vuex")]),t._v(" + "),a("a",{attrs:{href:"https://github.com/axios/axios",target:"_blank",rel:"noopener noreferrer"}},[t._v("axios")]),t._v(" 组合搭建。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("以 "),s("strong",[s("a",{attrs:{href:"https://legoflow.com/wiki/#webpack-mode",target:"_blank",rel:"noopener noreferrer"}},[this._v("Webpack Mode")])]),this._v(" 单一构建模块工具，另外其依赖模块方式是通过 NPM 包管理器安装，因而新建项目后，请先安装依赖后运行。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("若 PC 环境缺少 NPM，可通过 "),s("strong",[this._v("客户端内置 NPM 模块")]),this._v(" 进行安装。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"vue-ts"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vue-ts","aria-hidden":"true"}},[this._v("#")]),this._v(" Vue.ts")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("由 Vue.js 项目类型进化而来，唯一区别在于脚本编程语言使用 "),s("a",{attrs:{href:"https://www.tslang.cn/",target:"_blank",rel:"noopener noreferrer"}},[this._v("TypeScript")]),this._v("。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"pc"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#pc","aria-hidden":"true"}},[this._v("#")]),this._v(" PC")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"mobile"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mobile","aria-hidden":"true"}},[this._v("#")]),this._v(" Mobile")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"html-模块"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#html-模块","aria-hidden":"true"}},[this._v("#")]),this._v(" HTML 模块")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"内联样式脚本"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#内联样式脚本","aria-hidden":"true"}},[this._v("#")]),this._v(" 内联样式脚本")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("link")]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("href")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("css/index.css"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("rel")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("stylesheet"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("inline")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("src")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("js/index.js"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("charset")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("utf-8"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("inline")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{attrs:{class:"token script language-javascript"}}),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"合并资源"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#合并资源","aria-hidden":"true"}},[this._v("#")]),this._v(" 合并资源")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("\x3c!-- @bundle ./js/base.min.js --\x3e")]),t._v("\n"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("src")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("./assets/axios.min.js"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{attrs:{class:"token script language-javascript"}}),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("src")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("./assets/vue.min.js"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{attrs:{class:"token script language-javascript"}}),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("src")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("./assets/vuex.min.js"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{attrs:{class:"token script language-javascript"}}),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("src")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("./assets/vue-router.min.js"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{attrs:{class:"token script language-javascript"}}),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("\x3c!-- @endbundle --\x3e")]),t._v("\n")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"javascript-模块"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#javascript-模块","aria-hidden":"true"}},[this._v("#")]),this._v(" JavaScript 模块")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"入口文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#入口文件","aria-hidden":"true"}},[this._v("#")]),this._v(" 入口文件")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("JavaScript 模块由 Webpack 管理，工作流会自动获取 "),s("code",[this._v("项目目录/src/js/")]),this._v(" 路径下 第一层 JS 文件，但不包括子文件夹下 JS 文件 或 带下划线前缀的 JS 文件，作为 "),s("a",{attrs:{href:"https://webpack.js.org/concepts/#entry",target:"_blank",rel:"noopener noreferrer"}},[this._v("Webpack entry")]),this._v(" 配置，进行依赖链的热刷新。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[t._v("项目目录 "),a("code",[t._v("/src/js/")]),t._v(" 第一层（ 不包括子文件夹 ）路径下若新增 JS 文件，需要 "),a("strong",[t._v("重启工作流")]),t._v("，使新增文件成为依赖入口，构建新的依赖链，JS 模块功能才生效")]),a("li",[t._v("项目目录 "),a("code",[t._v("/src/js/*.js")]),t._v(" 为依赖入口文件 ( 带下划线前缀的 JS 文件除外 )，"),a("strong",[t._v("不应相互依赖")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"环境变量"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#环境变量","aria-hidden":"true"}},[this._v("#")]),this._v(" 环境变量")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("// 开发环境 判断")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" process"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env "),a("span",{attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'dev'")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("info")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'这个是开发环境'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// 生产环境 判断")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" process"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env "),a("span",{attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'build'")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("info")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'这个是生产环境'")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("// 如果你使用了 env 具体指向某个环境")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// 例如 workflow.dev { env: 'dev-test' }")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// 可通过 process.environment 访问到具体注入的环境变量")]),t._v("\nconsole"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("log")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" process"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("environment "),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"引入-tpl-文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#引入-tpl-文件","aria-hidden":"true"}},[this._v("#")]),this._v(" 引入 tpl 文件")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("支持 "),s("a",{attrs:{href:"https://github.com/aui/artTemplate",target:"_blank",rel:"noopener noreferrer"}},[this._v("art-template")]),this._v(" 语法 tpl 文件，转成压缩的 html 字符串，常用于接口获取数据后动态插入 DOM 结构。如:")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[t._v("// t.tpl\n"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("id")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("test"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("{{ name }}"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("// t.js")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" thtml "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("require")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'./t.tpl'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    name"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'test'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nconsole"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("log")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" thtml "),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v('// <div id="test">test</div>')]),t._v("\n")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[t._v("// t.tpl\n"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("id")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("test"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("{{ name | test }}"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("// t.js")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" helper "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("require")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'@tpl/helper'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nhelper"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function-variable function"}},[t._v("test")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" val "),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{attrs:{class:"token template-string"}},[a("span",{attrs:{class:"token string"}},[t._v("`test helper: ")]),a("span",{attrs:{class:"token interpolation"}},[a("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v(" val "),a("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{attrs:{class:"token string"}},[t._v("`")])]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" thtml "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("require")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'./t.tpl'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    name"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'test'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nconsole"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("log")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("thtml"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v('// <div id="test">test helper: t</div>')]),t._v("\n")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"图片模块"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#图片模块","aria-hidden":"true"}},[this._v("#")]),this._v(" 图片模块")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"img-scss"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#img-scss","aria-hidden":"true"}},[this._v("#")]),this._v(" _img.scss")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("放置在 项目目录 "),s("code",[this._v("/src/img/")]),this._v(" 下的图片，开发/构建工作流都会获取其信息，包括宽度/高度以及 "),s("code",[this._v("background-image")]),this._v(" 路径生成 sass 样式，保存在 项目目录 "),s("code",[this._v("/src/sass/_img.scss")]),this._v(" 文件。 如:")])},function(){var t=this.$createElement,s=this._self._c||t;return s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[this._v("图片\n/src/img/avatar.png\n/src/img/slice/loading.png\n")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{attrs:{class:"token selector"}},[t._v("/src/sass/_img.scss\n\n%avatar.png")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v("width")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 80px"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v("height")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 80px"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v("background-image")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token url"}},[t._v("url('../img/avatar.png')")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v("background-size")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" contain"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v("background-repeat")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" no-repeat"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{attrs:{class:"token selector"}},[t._v("%slice-loading.png")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v("width")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 80px"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v("height")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 32px"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v("background-image")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token url"}},[t._v("url('../img/slice/loading.png')")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v("background-size")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" contain"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v("background-repeat")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" no-repeat"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{attrs:{class:"token selector"}},[t._v("#test-1")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    @extend %avatar.png\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{attrs:{class:"token selector"}},[t._v("#test-2")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    @extend %slice-loading.png\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("注意")]),this._v("，若配置了 "),s("code",[this._v("REM: true")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[this._v("图片\n/src/img/avatar.png\n/src/img/slice/loading.png\n")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{attrs:{class:"token selector"}},[t._v("/src/sass/_img.scss\n\n%avatar.png")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v("width")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 0.8rem"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v("height")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 0.8rem"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v("background-image")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token url"}},[t._v("url('../img/avatar.png')")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v("background-size")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" contain"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v("background-repeat")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" no-repeat"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{attrs:{class:"token selector"}},[t._v("%slice-loading.png")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v("width")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 0.8rem"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v("height")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 0.32rem"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v("background-image")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token url"}},[t._v("url('../img/slice/loading.png')")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v("background-size")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" contain"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v("background-repeat")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" no-repeat"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("注意")]),this._v("，雪碧图文件夹的图片信息，其中 "),s("code",[this._v("background-size: contain;")]),this._v(" 样式，只有在 "),s("strong",[this._v("开发工作流")]),this._v(" 上才会产生。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[this._v("图片\n/src/img/base64/avatar.png\n")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("pre",{pre:!0,attrs:{class:"language-sass"}},[a("code",[a("span",{attrs:{class:"token selector"}},[t._v("/src/sass/_img.scss")]),t._v("\n\n"),a("span",{attrs:{class:"token selector"}},[t._v("%avatar {")]),t._v("\n"),a("span",{attrs:{class:"token property-line"}},[t._v("    "),a("span",{attrs:{class:"token property"}},[t._v("width")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 80px;")]),t._v("\n"),a("span",{attrs:{class:"token property-line"}},[t._v("    "),a("span",{attrs:{class:"token property"}},[t._v("height")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 80px;")]),t._v("\n"),a("span",{attrs:{class:"token property-line"}},[t._v("    "),a("span",{attrs:{class:"token property"}},[t._v("background-image")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ")]),a("span",{attrs:{class:"token url"}},[t._v("url('../img/base64/avatar.png')")]),a("span",{attrs:{class:"token selector"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token property-line"}},[t._v("    "),a("span",{attrs:{class:"token property"}},[t._v("background-size")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" contain;")]),t._v("\n"),a("span",{attrs:{class:"token property-line"}},[t._v("    "),a("span",{attrs:{class:"token property"}},[t._v("background-repeat")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" no-repeat;")]),t._v("\n"),a("span",{attrs:{class:"token selector"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token selector"}},[t._v("%base64-avatar.png {")]),t._v("\n"),a("span",{attrs:{class:"token property-line"}},[t._v("    "),a("span",{attrs:{class:"token property"}},[t._v("width")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 80px;")]),t._v("\n"),a("span",{attrs:{class:"token property-line"}},[t._v("    "),a("span",{attrs:{class:"token property"}},[t._v("height")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 80px;")]),t._v("\n"),a("span",{attrs:{class:"token property-line"}},[t._v("    "),a("span",{attrs:{class:"token property"}},[t._v("background-image")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ")]),a("span",{attrs:{class:"token url"}},[t._v("url('../img/base64/avatar.png')")]),a("span",{attrs:{class:"token selector"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token property-line"}},[t._v("    "),a("span",{attrs:{class:"token property"}},[t._v("background-size")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" contain;")]),t._v("\n"),a("span",{attrs:{class:"token property-line"}},[t._v("    "),a("span",{attrs:{class:"token property"}},[t._v("background-repeat")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" no-repeat;")]),t._v("\n"),a("span",{attrs:{class:"token selector"}},[t._v("}")]),t._v("\n")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("也就是在原有的基础上，增加了一个只有文件名的 片段，开发者引用起来相对简单很多，但值得注意的是，如果重名的资源片段，会覆盖前一个，这时若想引入最为正确的片段，可以使用 "),s("strong",[this._v("全路径 + 文件名的片段")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"base64"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#base64","aria-hidden":"true"}},[this._v("#")]),this._v(" base64")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("项目目录 "),s("code",[this._v("/src/img/base64")]),this._v(" 下放置的图片，<100k，在构建工作流中，会自动转换成 base64 格式内置替换到对应样式中。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"雪碧图"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#雪碧图","aria-hidden":"true"}},[this._v("#")]),this._v(" 雪碧图")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("项目目录 "),s("code",[this._v("/src/img/slice")]),this._v(" 下放置的图片，在构建工作流中，合成雪碧图，并在样式文件中增加对应的 "),s("code",[this._v("background-position")]),this._v(" 等信息")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("若样式文件中没有引入该路径下的图片，不会进行合并雪碧图")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("合成多张雪碧图，会以 "),s("code",[this._v("/src/img/slice")]),this._v(" 路径下的目录为单位，生成多张雪碧图。如:")])},function(){var t=this.$createElement,s=this._self._c||t;return s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("图片\n/src/img/slice/a.png\n/src/img/slice/b.png\n/src/img/slice/page-1/c.png\n/src/img/slice/page-1/d.png\n/src/img/slice/page-2/e.png\n/src/img/slice/page-2/f.png\n\n合成后\n\n/dist/img/sprite.png\n/dist/img/page-1.png\n/dist/img/page-2.png\n")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("注意")]),this._v("，若配置了 "),s("code",[this._v("REM: true")]),this._v(", 生成的样式长度单位为 rem，其中包括的样式属性为")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("background-position")]),s("li",[this._v("background-size")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"ejs-模块"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ejs-模块","aria-hidden":"true"}},[this._v("#")]),this._v(" EJS 模块")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("通过 EJS 动态语言，实现编译 HTML 文件迭代结构等，例如，文件项目结构 "),s("code",[this._v("/src/ejs/x.ejs")]),this._v(" 自动编译到 "),s("code",[this._v("/src/x.html")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("默认项目类型并不自动创建 "),s("strong",[this._v("/src/ejs")]),this._v(" 文件夹。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("\x3c!-- @if env='dev' --\x3e")]),t._v("\n"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("src")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("xxx.js"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("charset")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("utf-8"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{attrs:{class:"token script language-javascript"}}),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("h1")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("开发环境"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("h1")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("\x3c!-- @endif --\x3e")]),t._v("\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("\x3c!-- @if env='build' --\x3e")]),t._v("\n"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("h1")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("生产环境"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("h1")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("\x3c!-- @endif --\x3e")]),t._v("\n")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("src")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("xxx.js"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("charset")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("utf-8"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{attrs:{class:"token script language-javascript"}}),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("h1")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("开发环境"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("h1")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("h1")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("生产环境"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("h1")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"静态资源文件夹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#静态资源文件夹","aria-hidden":"true"}},[this._v("#")]),this._v(" 静态资源文件夹")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("构建阶段，工作流会把 "),s("code",[this._v("src/assets")]),this._v(" 静态资源文件夹搬迁到 构建后目录"),s("code",[this._v("dist")]),this._v("里面。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("注意：")]),this._v(" Webpack mode 下即便存在静态资源文件夹也并不会进行迁移。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" path "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("require")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'path'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" fs "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("require")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'fs-extra'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nmodule"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function-variable function"}},[t._v("exports")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("config"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" pull"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("Promise")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("resolve"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" reject"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    fs"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("copySync")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("path"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("resolve")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__dirname"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'../src/assets'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" path"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("resolve")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__dirname"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'../dist/assets'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{attrs:{class:"token function"}},[t._v("resolve")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"使用-node-modules"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用-node-modules","aria-hidden":"true"}},[this._v("#")]),this._v(" 使用 node_modules")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"别名-alias"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#别名-alias","aria-hidden":"true"}},[this._v("#")]),this._v(" 别名 alias")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("通过别名 "),s("code",[this._v("@local")]),this._v("，这个别名默认已被注入，可直接使用。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[this._v("import")]),this._v(" Vue "),s("span",{attrs:{class:"token keyword"}},[this._v("from")]),this._v(" "),s("span",{attrs:{class:"token string"}},[this._v("'@local/vue'")]),s("span",{attrs:{class:"token punctuation"}},[this._v(";")]),this._v("\n")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"配置-includemodules"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置-includemodules","aria-hidden":"true"}},[this._v("#")]),this._v(" 配置 includeModules")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("通过配置 "),s("a",{attrs:{href:"https://legoflow.com/wiki/config.html#includemodules",target:"_blank",rel:"noopener noreferrer"}},[this._v("includeModules")]),this._v(" 可让客户端除了在内置的 node_modules 中寻找模块之外，还能在指定位置寻找。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{attrs:{class:"token key atrule"}},[this._v("includeModules")]),s("span",{attrs:{class:"token punctuation"}},[this._v(":")]),this._v("\n  "),s("span",{attrs:{class:"token punctuation"}},[this._v("-")]),this._v(" ./node_modules\n")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[this._v("import")]),this._v(" Vue "),s("span",{attrs:{class:"token keyword"}},[this._v("from")]),this._v(" "),s("span",{attrs:{class:"token string"}},[this._v("'vue'")]),this._v("\n")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("注意")]),this._v(" 这个方法同时存在的弊端，客户端会先对内置的 node_modules 进行查找，如果找不到的话，才再去寻找配置的路径。一旦找到了便使用的是客户端内置的 node_modules 模块。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("macOS: "),s("code",[this._v("APP/显示包内容/Contents/Resources/app/node_modules")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Windows: "),s("code",[this._v("APP/resources/app/node_modules")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"调试小工具"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#调试小工具","aria-hidden":"true"}},[this._v("#")]),this._v(" 调试小工具")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("关闭：关闭小工具，刷新后重载")]),s("li",[this._v("刷新：刷新页面")]),s("li",[this._v("LOG：查看 log 打印日志")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{attrs:{align:"center"}},[s("img",{attrs:{src:a(50),width:"700px"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("开发工作流启动的 web 服务，URL 带上 stats 参数，则自动注入 stats.js 工具，"),s("a",{attrs:{href:"https://github.com/mrdoob/stats.js",target:"_blank",rel:"noopener noreferrer"}},[this._v("了解功能")]),this._v("。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"自定义项目类型"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#自定义项目类型","aria-hidden":"true"}},[this._v("#")]),this._v(" 自定义项目类型")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"自定义本地项目类型"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#自定义本地项目类型","aria-hidden":"true"}},[this._v("#")]),this._v(" 自定义本地项目类型")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("首先，在 PC 本地建立一个文件夹，获取其绝对路径，在客户端全局配置中，设置到 "),s("code",[this._v("Project")]),this._v("，并保存。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("在新建的文件夹里，可以放置自定义项目，"),s("a",{attrs:{href:"https://github.com/legoflow/project/tree/master/__test__/P1",target:"_blank",rel:"noopener noreferrer"}},[this._v("这里")]),this._v(" 有一个示范项目，下载完成后，放置到新建的文件夹中即可。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("放置完毕后，在 "),s("code",[this._v("新建")]),this._v(" 界面中项目类型便会多了 "),s("code",[this._v("P1")]),this._v(" 这个类型。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("大致原理是，客户端会通过全局配置中 "),s("code",[this._v("Project")]),this._v(" 路径，寻找其中的文件夹，作为自定义的项目类型，并进行注入。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"自定义-npm-仓库模板类型"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#自定义-npm-仓库模板类型","aria-hidden":"true"}},[this._v("#")]),this._v(" 自定义 NPM 仓库模板类型")])},function(){var t=this.$createElement,s=this._self._c||t;return s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("# >= legoflow-cli v2.0.0-beta.27\nlf set loadNPMLegoFlowTemplate true\n")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("设置参数开启拉取网络 NPM 仓库上带前缀 "),s("strong",[s("code",[this._v("legoflow-template-")])]),this._v(" 的 NPM 模块 作为项目类型之一，因此这个 NPM 模块可以由你自己来决定以及发布。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("新建项目时，即可看到相应的 NPM 模板。例如："),s("a",{attrs:{href:"https://github.com/legoflow/legoflow-template-test",target:"_blank",rel:"noopener noreferrer"}},[this._v("legoflow-template-test")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("文件夹 "),s("strong",[this._v("template")]),this._v(" 放置脚手架模板文件，一些隐藏文件请使用 "),s("strong",[this._v("~~")]),this._v(" 作为标识。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("而模板文件夹内的 "),s("code",[this._v("legoflow.yml")]),this._v("、"),s("code",[this._v("package.json")]),this._v("、"),s("code",[this._v("README.md")]),this._v(" 文件，会对文件内容进行变量的注入，例如：")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"name"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"[name]"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"version"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"[version]"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"author"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"[author]"')]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[a("code",[t._v("[name]")]),t._v(": 新建项目时填入的项目名称")]),a("li",[a("code",[t._v("[version]")]),t._v(": 新建项目时填入的项目版本号")]),a("li",[a("code",[t._v("[author]")]),t._v(": 新建项目时的用户")]),a("li",[a("code",[t._v("[c_version]")]),t._v(": 新建项目时 lf 的版本号")]),a("li",[a("code",[t._v("[type]")]),t._v(": 项目类型")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"shell-脚本机制"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#shell-脚本机制","aria-hidden":"true"}},[this._v("#")]),this._v(" Shell 脚本机制")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"使用方法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用方法","aria-hidden":"true"}},[this._v("#")]),this._v(" 使用方法")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("我想 构建完成后打包出 zip 包")]),s("li",[this._v("我想 构建完成后上传到公司的 发布平台")]),s("li",[this._v("我想 构建完成后 加入一些其他的 工作流 来处理文件")]),s("li",[this._v("我先 构建完成后 自动迁移到 xxx 目录")]),s("li",[this._v("...")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("// zip.js")]),t._v("\n"),a("span",{attrs:{class:"token string"}},[t._v("'use strict'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" path "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("require")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'path'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" del "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("require")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'del'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" shell "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("require")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'shelljs'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nmodule"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function-variable function"}},[t._v("exports")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" config"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" projectPath "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" messager"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" nodeBinExec "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    messager"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("log")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'删除原有 zip'")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    del"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("sync")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),a("span",{attrs:{class:"token template-string"}},[a("span",{attrs:{class:"token string"}},[t._v("`")]),a("span",{attrs:{class:"token interpolation"}},[a("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v(" projectPath "),a("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{attrs:{class:"token string"}},[t._v("/dist.zip`")])]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" force"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    messager"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("log")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'打包中'")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    shell"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("cd")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" projectPath "),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" shell"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("exec")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'zip -r dist.zip dist'")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("code "),a("span",{attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        messager"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("log")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'打包完成'")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        messager"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("success")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        messager"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("stop")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'打包错误'")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("# legoflow.yml")]),t._v("\n"),a("span",{attrs:{class:"token key atrule"}},[t._v("workflow.build")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{attrs:{class:"token key atrule"}},[t._v("shell")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ./zip.js\n")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("所以脚本执行完成后，请通过 "),s("code",[this._v("messager.success( );")]),this._v(" 回调 成功结果，通过 "),s("code",[this._v("messager.stop( '错误信息' );")]),this._v(" 回调 错误结果。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"nodebin"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nodebin","aria-hidden":"true"}},[this._v("#")]),this._v(" NodeBin")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ol",[a("li",[t._v("在电脑终端上执行 "),a("strong",[a("code",[t._v("which node")])]),t._v("（ 可得到当前环境正在使用的 node bin 的路径 ）")]),a("li",[t._v("复制该路径")]),a("li",[t._v("粘贴到 "),a("strong",[t._v("全局设置>node bin")]),t._v(" 输入框内")]),a("li",[t._v("保存")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token string"}},[t._v("'use strict'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" path "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("require")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'path'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nmodule"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function-variable function"}},[t._v("exports")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" config"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" projectPath "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" messager"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" nodeBinExec "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" root "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" path"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("resolve")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" projectPath"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'../'")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{attrs:{class:"token function"}},[t._v("nodeBinExec")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" root"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'./script/build.js'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" code"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" msg"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" err "),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        code "),a("span",{attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("?")]),t._v(" messager"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("success")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" messager"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("stop")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" err "),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"生命周期"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#生命周期","aria-hidden":"true"}},[this._v("#")]),this._v(" 生命周期")])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("APP 版本 2.0.0-beta.6 以上，CLI 版本 2.0.0-beta.16 以上")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("init 阶段，工作流参数刚刚进入 engine，还未进行参数消化")]),s("li",[this._v("before 阶段，engine 已消化了参数，准备启动工作流")]),s("li",[this._v("after 阶段，engine 已完成工作流，准备回调")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("// ./shell/build.js")]),t._v("\n"),a("span",{attrs:{class:"token string"}},[t._v("'use strict'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" path "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("require")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'path'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" prompt "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("require")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'inquirer'")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prompt"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nexports"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function-variable function"}},[t._v("init")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" config"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" message"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" pull "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("Promise")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" resolve"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" reject "),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" config"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'cli'")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" questions "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          type"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'list'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          name"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'whichEnv'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          message"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'请选择构建环境'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          choices"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Object"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("keys")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" config"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env "),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),a("span",{attrs:{class:"token keyword"}},[t._v("default")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("1")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n      "),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" whichEnv "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("prompt")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" questions "),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n      config"),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'workflow.build'")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" whichEnv"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),a("span",{attrs:{class:"token function"}},[t._v("resolve")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("# legoflow.yml")]),t._v("\n"),a("span",{attrs:{class:"token key atrule"}},[t._v("workflow.build")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{attrs:{class:"token key atrule"}},[t._v("shell")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ./shell/build.js\n")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"webpack-mode"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#webpack-mode","aria-hidden":"true"}},[this._v("#")]),this._v(" Webpack Mode")])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("APP 版本 2.0.0-beta.6 以上，CLI 版本 2.0.0-beta.16 以上")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("顾名思义，它其实是 "),s("a",{attrs:{href:"https://github.com/legoflow/engine",target:"_blank",rel:"noopener noreferrer"}},[this._v("LegoFlow Engine")]),this._v(" 的一种模式，它会仅仅对项目使用 Webpack 进行开发构建。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("默认脚手架 "),s("strong",[this._v("Vue.js")]),this._v(" & "),s("strong",[this._v("Vue.ts")]),this._v(" 就是最好的示范例子。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"持续构建"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#持续构建","aria-hidden":"true"}},[this._v("#")]),this._v(" 持续构建")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("通过 "),s("a",{attrs:{href:"https://github.com/legoflow/legoflow-cli",target:"_blank",rel:"noopener noreferrer"}},[this._v("LegoFlow-CLI")]),this._v(" 可以对项目在 Gitlab 上进行 CI 持续构建。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("另外我们提供了相关的 "),s("a",{attrs:{href:"https://github.com/legoflow/legoflow-ci-image",target:"_blank",rel:"noopener noreferrer"}},[this._v("Docker Image")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"联系反馈"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#联系反馈","aria-hidden":"true"}},[this._v("#")]),this._v(" 联系反馈")])}],e=a(0),r=Object(e.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[t._m(0),t._m(1),t._m(2),t._m(3),t._m(4),a("p",[t._v("把工作流从命令行的形式，封装成客户端应用，会带来以下方面的优点：")]),t._m(5),a("p",[t._v("通过依赖客户端内置固定版本的 Node.js 环境 以及 node_modules 模块，因而隔离外部环境，不用再安装配置各种各样的系统环境以及依赖。")]),a("p",[t._v("只需简单的下载、解压，即可开始愉快地编程。")]),t._m(6),a("p",[t._v("工作流部分主要由 Webpack + Gulp 的形式构成。")]),a("p",[t._v("Webpack 仅负责对 JavaScript 部分资源进行处理，其中主要包括 ES.Next 语法编译，模块处理等等。")]),a("p",[t._v("而 Gulp 则负责剩余其他部门资源的处理，例如 HTML、Sass、EJS、图片处理 等等。")]),a("p",[t._v("同时使用两个构建工具是为了让各自的优点得到最大的发挥。")]),a("p",[t._v("Webpack 专门处理 JavaScript 模块化构建，而 Gulp 补充 Webpack 一些功能较为薄弱的环节，例如 雪碧图合并。")]),t._m(7),t._m(8),t._m(9),t._m(10),t._m(11),a("p",[t._v("若出现下载失败的情况，请联系我们。")]),t._m(12),t._m(13),a("p",[t._v("macOS 系统的客户端，下载完成后打开 dmg 文件。")]),t._m(14),t._m(15),t._m(16),a("p",[t._v("因系统的差异性，macOS 与 Windows 64 两个系统版本的客户端应用界面上会有所差别，但功能上相差无几。")]),a("p",[t._v("这里主要以 macOS 系统的客户端应用界面作为例子，进行说明。")]),t._m(17),a("p",[t._v("默认打开界面为 项目列表界面，项目列表为空时。")]),t._m(18),a("p",[t._v("项目列表存在项目，若同时存在多个项目，可通过拖拉改变项目列表的顺序。")]),t._m(19),t._m(20),t._m(21),t._m(22),a("p",[t._v("开发工作流启动成功后，会自动弹起工作流信息面板。该工作流信息面板，主要显示开发或构建工作流最新一条的日志信息，方便开发者无需切换到日志面板，即可了解到项目工作流的状态。")]),t._m(23),t._m(24),t._m(25),t._m(26),t._m(27),t._m(28),t._m(29),t._m(30),t._m(31),t._m(32),t._m(33),t._m(34),a("p",[t._v("该界面主要用于记录展示项目开发以及构建工作流的相关日志信息，包括 log、error、success 等。")]),t._m(35),t._m(36),t._m(37),t._m(38),t._m(39),a("p",[t._v("在该界面，可以对客户端应用全局参数进行配置。可设置的参数有：")]),a("ul",[t._m(40),a("li",[t._v("端口号：开发工作流启动的默认端口号，若被占用则递增")]),a("li",[t._v("编辑器：设置常用编辑器，可在项目列表界面使其直接打开项目")]),a("li",[t._v("工作流自动打开 Chrome：开发或构建工作流成功后是否自动打开 Chrome 浏览器")]),a("li",[t._v("实验室：选中后会开启一些实验性的功能，并会接受 Preview 版本的提示更新")]),a("li",[t._v("Project：自定义项目类型，"),a("router-link",{attrs:{to:"./#自定义项目类型"}},[t._v("了解详细")])],1),a("li",[t._v("NodeBin：Shell 模块的扩展功能，"),a("router-link",{attrs:{to:"./#nodebin"}},[t._v("了解详细")])],1)]),t._m(41),a("p",[t._v("默认提供四种项目类型脚手架，包括：")]),t._m(42),t._m(43),t._m(44),t._m(45),t._m(46),t._m(47),t._m(48),a("p",[t._v("PC 端常用脚手架，以 jQuery 作为核心依赖库。")]),t._m(49),a("p",[t._v("移动端常用脚手架，以 Zepto 作为核心依赖库，同时加入成熟的 REM 适配方案。")]),t._m(50),t._m(51),a("p",[t._v("在构建阶段，通过 html 内联样式或脚本文件，减少请求数，减少 TTFB，优化加载性能")]),a("p",[t._v("在 html 外链上加上 inline 属性即可。如:")]),t._m(52),t._m(53),a("p",[t._v("在构建阶段，通过 HTML 固定的注释语法，把资源打包合并，减少请求数，减少 TTFB，优化加载性能。如：")]),t._m(54),t._m(55),t._m(56),t._m(57),a("p",[t._v("所以值得注意的是：")]),t._m(58),t._m(59),a("p",[t._v("自动注入 环境变量，开发者可根据 环境变量 进行逻辑处理")]),t._m(60),t._m(61),t._m(62),t._m(63),t._m(64),a("p",[t._v("使用 helper")]),t._m(65),t._m(66),t._m(67),t._m(68),t._m(69),t._m(70),t._m(71),a("p",[t._v("默认脚手架 基础 sass 文件已引入 _img.scss，直接使用即可:")]),t._m(72),t._m(73),a("p",[t._v("生成的图片信息长度单位为 rem。如:")]),t._m(74),t._m(75),t._m(76),a("p",[t._v("本来 片段名上带有路径还有后缀是为了保持资源引用的唯一性，但对于开发者需要引用该片段名的时候，就显得很臃肿，因此对 片段名 进行优化，如：")]),t._m(77),a("p",[t._v("↓ 编译成")]),t._m(78),t._m(79),t._m(80),t._m(81),a("p",[t._v("但若在 HTML 上引入这路径下的图片文件，并不会进行转换。")]),t._m(82),t._m(83),t._m(84),t._m(85),t._m(86),a("p",[t._v("支持合成 2 倍 / 3 倍雪碧图。")]),t._m(87),t._m(88),t._m(89),t._m(90),t._m(91),a("p",[t._v("新增注入环境变量，开发者可根据 环境变量 进行逻辑处理。")]),a("p",[t._v("例子")]),t._m(92),a("p",[t._v("→ 开发环境 编译出的 HTML")]),t._m(93),a("p",[t._v("→ 生产环境 编译出的 HTML")]),t._m(94),a("p",[t._v("注意：改动该文件夹任何的 EJS 文件，都会全部重新生成。主要的原因是 改动的文件存在可能性是另外一个文件的片段。")]),t._m(95),a("p",[t._v("一些无需参与工作流的静态资源文件（例如: mp3 / mp4 / 第三方静态组件等）可放置在此文件夹下。")]),t._m(96),t._m(97),a("p",[t._v("因为该模式下是以 Webpack 进行依赖链进行打包出资源，并不会调用 Gulp 做特殊处理，若一些非依赖链的资源，希望在构建后进行迁移，可以尝试使用 Shell 模块进行复制。例如：")]),t._m(98),t._m(99),a("p",[t._v("一些模块安装在项目目录 node_modules，我们可以通过 2 种方式去引入这些模块。")]),t._m(100),t._m(101),a("p",[t._v("例如，项目 node_modules 下安装了 vue，可通过以下方式进行引入使用：")]),t._m(102),t._m(103),t._m(104),a("p",[t._v("例如，项目 node_modules 下安装了 vue，配置 legoflow.yml")]),t._m(105),a("p",[t._v("可直接引入使用")]),t._m(106),t._m(107),a("p",[t._v("例如客户端内置了 lodash 模块，进行了上述配置后，本地项目也存在 lodash，然后 JS 中直接 import lodash，指向的是客户端内置的 lodash，而不是项目本地的 lodash，这时应该使用别名的方式精确进行指向。")]),a("p",[t._v("那为什么需要先寻找客户端内置的 node_modules，这个跟客户端寻址策略有很大关系。")]),a("p",[t._v("所有项目的工作流模块都依赖于客户端内置 node_modules，并以其为基础，因而不需要每个项目下都存在 node_modules。")]),a("p",[t._v("例如本地项目安装了 babel-loader 模块，如果客户端选进行对本地进行寻找的话，可能会造成 babel-loader 版本不适配，从而导致整个工作流出错无法启动，这样的问题是灾难性的。")]),a("p",[t._v("所以先对内置 node_modules 模块的寻址特别重要。")]),a("p",[t._v("如果担心本地模块与内置模块冲突的话，可以随时查看当前客户端内置的模块。")]),t._m(108),t._m(109),t._m(110),a("p",[t._v("开发工作流启动的 web 服务，URL 带上 dev 参数，则自动注入调试工具。功能主要包括:")]),t._m(111),t._m(112),t._m(113),t._m(114),a("p",[t._v("除了可以新建项目类型脚手架之外，还支持新建自定义项目类型。")]),t._m(115),t._m(116),t._m(117),t._m(118),t._m(119),a("p",[t._v("一个标准的自定义项目类型可参考上述项目模板。")]),t._m(120),t._m(121),t._m(122),t._m(123),t._m(124),t._m(125),t._m(126),a("p",[t._v("可注入的参数有：")]),t._m(127),t._m(128),t._m(129),a("p",[t._v("通过配置 shell 脚本，可扩展 构建工作流 完成后还需要做的事情。例如：")]),t._m(130),a("p",[t._v("可想而知，LegoFlow 建构工作流完成后可自动执行配置的脚本，做到很多自己自定义的事情。如：")]),t._m(131),a("p",[t._v("配置文件中注册脚本")]),t._m(132),a("p",[t._v("值得注意的是，客户端会等待 Shell 回调结果信息( 成功或者失败 )，从而释放 线程资源。")]),t._m(133),t._m(134),a("p",[t._v("当我们需要使用 Shell 脚本功能去执行外部 node 脚本的时候，因为应用内部的 node 环境与外部的相互独立性，这时就需要定义外部的 node bin 了。")]),a("p",[t._v("在全局设置中，可设置外部 node bin 的路径，设置步骤如下：")]),t._m(135),a("p",[t._v("在 Shell 功能扩展的脚本中，即可使用 nodeBinExec，例如：")]),t._m(136),a("p",[t._v("上述例子，Shell 脚本描述的是通过 nodeBinExec 函数，使用外部的 node bin 执行指定路径下的外部脚本文件。")]),a("p",[t._v("通过该策略，能够通过 Shell 脚本功能去执行一些外部 node 环境的脚本，从而完成构建后的自动化操作。")]),t._m(137),t._m(138),a("p",[t._v("现在定义 Shell 模块后，还支持工作流的生命周期 init -> before -> after 不同阶段的需求。")]),t._m(139),a("p",[t._v("提供这三个生命周期的钩子，可丰富每个项目不一样的 Shell 模块操作。")]),a("p",[t._v("举例，在 A 项目中存在较多的 env 环境配置，而每次构建的注入的 env 不一样，虽然可通过配置设置构建的 env，但每次修改配置不是一件聪明的事情。")]),a("p",[t._v("这时，我们就可以通过 init 的生命周期，进行 “提问” 希望让开发者在命令行中自行选择需要构建的环境。")]),t._m(140),t._m(141),t._m(142),t._m(143),a("p",[t._v("如果你已经大致阅读过上述内容，应该比较清晰了解到 LegoFlow 工作流主要是有 Gulp & Webpack 组合的，因为他们能相互补充各自的弱点。")]),a("p",[t._v("但有的时候，我们的项目并不需要 Gulp 所带来的优点，例如：雪碧图等。这样的情况经常会发生在移动端单页面应用的项目，这时我们就可以 “抛弃” Gulp。")]),a("p",[t._v("所以，这时我们有了 Webpack Mode 的想法。")]),t._m(144),t._m(145),t._m(146),t._m(147),t._m(148),t._m(149),a("p",[t._v("遇到问题或者有更棒的想法，欢迎大家提出 issues 或 PRs.")]),a("p",[t._v("交流 Q 群 457756220")])])},n,!1,null,null,null);s.default=r.exports}}]);